"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[689],{90:function(t,s,e){e.r(s),e.d(s,{default:function(){return M}});var n=e(8683),r=e(5671),o=e(3144),i=e(136),a=e(4104),u=e(2791),l="Profile_content__DykmE",c="ProfileInfo_info__KDdPV",d="ProfileInfo_descriptionBlock__5qaD8",h=e(8210),f=e(9439),p=e(184),x=function(t){var s=(0,u.useState)(!1),e=(0,f.Z)(s,2),n=e[0],r=e[1],o=(0,u.useState)(t.status),i=(0,f.Z)(o,2),a=i[0],l=i[1];(0,u.useEffect)((function(){l(t.status)}),[t.status]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{children:!n&&(0,p.jsx)("span",{onDoubleClick:function(){t.profileId===t.authId&&r(!0)},children:t.status||"-------"})}),(0,p.jsx)("div",{children:n&&(0,p.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(a)},value:a})})]})},j=e(1136),m=function(t){var s,e;return t.profile?(0,p.jsx)("div",{className:c,children:(0,p.jsxs)("div",{className:d,children:[(0,p.jsx)("img",{src:null!==(s=t.profile)&&void 0!==s&&s.photos.large?null===(e=t.profile)||void 0===e?void 0:e.photos.large:j,alt:"avatar"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:t.profile.fullName}),(0,p.jsx)(x,{status:t.status,updateStatus:t.updateStatus,profileId:t.profile.userId,authId:t.authId}),(0,p.jsx)("p",{children:t.profile.aboutMe}),(0,p.jsx)("hr",{}),(0,p.jsxs)("p",{children:["Looking for a job: ",t.profile.lookingForAJob?"\u2714":"\u274c"]}),t.profile.lookingForAJobDescription&&(0,p.jsx)("p",{children:t.profile.lookingForAJobDescription}),(0,p.jsx)("h2",{children:"Contacts:"}),(0,p.jsx)("h3",{children:t.profile.contacts.github}),(0,p.jsx)("h3",{children:t.profile.contacts.vk}),(0,p.jsx)("h3",{children:t.profile.contacts.facebook}),(0,p.jsx)("h3",{children:t.profile.contacts.instagram}),(0,p.jsx)("h3",{children:t.profile.contacts.twitter}),(0,p.jsx)("h3",{children:t.profile.contacts.website}),(0,p.jsx)("h3",{children:t.profile.contacts.youtube}),(0,p.jsx)("h3",{children:t.profile.contacts.mainLink})]})]})}):(0,p.jsx)(h.p,{})},v=e(81),g=e(2353),P="MyPosts_postsBlock__PJLR3",k="MyPosts_field__-V4Eg",_="MyPosts_buttonPost__mxBsm",b="Post_item__5qFIu",C="Post_btn__XY1R-",w=function(t){return(0,p.jsxs)("div",{className:b,children:[(0,p.jsx)("img",{src:j,alt:"avatar"}),t.message,(0,p.jsx)("div",{className:C,children:(0,p.jsxs)("button",{children:["\u2764\ufe0f ",t.likeCounts," "]})})]})},S=e(5705),y=function(t){var s;return t?t.length>100&&(s="Post is too large"):s="Text required",s},I=function(t){return(0,p.jsx)(S.J9,{initialValues:{newPost:""},onSubmit:function(s,e){var n={newPost:s.newPost};t.sendPost(n.newPost),e.resetForm(),e.setSubmitting(!1)},children:function(t){var s=t.values,e=t.handleChange,n=t.handleBlur,r=t.handleSubmit,o=t.isSubmitting,i=t.errors;return(0,p.jsxs)("form",{onSubmit:r,children:[(0,p.jsx)(S.gN,{type:"text",name:"newPost",placeholder:"Your news...",onChange:e,onBlur:n,value:s.newPost,className:k,validate:y}),"Post is too large"===i.newPost&&(0,p.jsx)("div",{children:i.newPost}),(0,p.jsx)("div",{className:_,children:(0,p.jsx)("button",{type:"submit",disabled:o,children:"Add Post"})})]})}})},N=u.memo((function(t){var s=t.posts.map((function(t){return(0,p.jsx)(w,{message:t.message,likeCounts:t.likeCounts},t.id)}));return(0,p.jsxs)("div",{className:P,children:[(0,p.jsx)("h3",{children:"My Posts"}),(0,p.jsx)(I,{sendPost:t.addPost}),(0,p.jsx)("div",{children:s})]})})),F=(0,g.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,v.Wl)(s))}}}))(N),T=function(t){return(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateUsersStatusThunkCreator,authId:t.authId}),(0,p.jsx)(F,{})]})},Z=e(7689),D=e(2895),U=e(7781),B=function(t){(0,i.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.params.userId;this.props.getUsersProfileThunkCreator(t),this.props.getUsersStatusThunkCreator(t)}},{key:"render",value:function(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(T,(0,n.Z)({},this.props))})}}]),e}(u.Component),M=(0,U.qC)((0,g.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authId:t.auth.data.id}}),{addPost:v.Wl,getUsersProfileThunkCreator:v.L,getUsersStatusThunkCreator:v.X6,updateUsersStatusThunkCreator:v.x7}),(function(t){return function(s){var e=(0,Z.TH)(),r=(0,Z.s0)(),o=(0,Z.UO)();return(0,p.jsx)(t,(0,n.Z)((0,n.Z)({},s),{},{location:e,params:o,navigate:r}))}}),D.F)(B)}}]);
//# sourceMappingURL=689.d0c0e9a7.chunk.js.map